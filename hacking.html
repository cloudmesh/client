

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Hacking &mdash; cloudmesh_client 3.1.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="cloudmesh_client 3.1.1 documentation" href="index.html"/>
        <link rel="next" title="Appendix" href="appendix.html"/>
        <link rel="prev" title="API" href="api.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> cloudmesh_client
          

          
          </a>

          
            
            
              <div class="version">
                3.1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="prefix.html">Prefix</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
</ul>
<p class="caption"><span class="caption-text">Short Manuals</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference_card.html">Reference Card</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts.html">Example Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="comet.html">Comet Virtual Cluster</a></li>
</ul>
<p class="caption"><span class="caption-text">User Manuals</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands/index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="man/man.html">Commands</a></li>
</ul>
<p class="caption"><span class="caption-text">Teaching</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="exercises.html">Exercises</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Manuals</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Hacking</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#contributing">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prioritizaton">PRIORITIZATON</a></li>
<li class="toctree-l2"><a class="reference internal" href="#editor">Editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#testing">Testing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tox">Tox</a></li>
<li class="toctree-l4"><a class="reference internal" href="#nosetests">Nosetests</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#git">Git</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#closing-issues-via-commit-messages">Closing Issues via Commit Messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ssh-keys">SSH keys</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sheetsheet">Sheetsheet</a></li>
<li class="toctree-l3"><a class="reference internal" href="#empty-commits">Empty Commits</a></li>
<li class="toctree-l3"><a class="reference internal" href="#styled-git-log">Styled Git Log</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tags">Tags</a></li>
<li class="toctree-l3"><a class="reference internal" href="#publish-on-github">Publish on Github</a></li>
<li class="toctree-l3"><a class="reference internal" href="#logging">Logging</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">Appendix</a></li>
</ul>
<p class="caption"><span class="caption-text">Future and Old</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Docker</a></li>
</ul>
<p class="caption"><span class="caption-text">Code</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="code/cloudmesh_client.html">cloudmesh_client package</a></li>
</ul>
<p class="caption"><span class="caption-text">Todo</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="todo.html">ToDos</a></li>
<li class="toctree-l1"><a class="reference internal" href="hackathon.html">Using python 2 and 3 for development</a></li>
<li class="toctree-l1"><a class="reference internal" href="hackathon.html#python-guidelines">Python Guidelines</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">cloudmesh_client</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Hacking</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/hacking.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hacking">
<h1>Hacking<a class="headerlink" href="#hacking" title="Permalink to this headline">¶</a></h1>
<div class="section" id="contributing">
<h2>Contributing<a class="headerlink" href="#contributing" title="Permalink to this headline">¶</a></h2>
<p>The project is open source and if you like you can help. Here are some contribution guidelines:</p>
<ul>
<li><p class="first">we use the Apache 2.0 licence</p>
</li>
<li><p class="first">we recommend to use pycharm for editing and utlize the <cite>Inspect
Code</cite> feature regularly on the files you modify and fix the sensible
pep8 warnings.  Look at other warnings and errors</p>
</li>
<li><p class="first">we disallow editing with notepad</p>
</li>
<li><p class="first">use <code class="docutils literal"><span class="pre">.format</span></code> instead of <code class="docutils literal"><span class="pre">%</span></code> in print statements</p>
</li>
<li><p class="first">use <code class="docutils literal"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span> <span class="pre">print_function</span></code> at the beginning of the file and use
<code class="docutils literal"><span class="pre">print(&quot;msg&quot;)</span></code> instead of <code class="docutils literal"><span class="pre">print</span> <span class="pre">msg</span></code></p>
</li>
<li><p class="first">use <code class="docutils literal"><span class="pre">class</span> <span class="pre">name(object):</span></code> and not just <code class="docutils literal"><span class="pre">class</span> <span class="pre">name:</span></code></p>
</li>
<li><p class="first">use <code class="docutils literal"><span class="pre">Console.error</span></code> when printing errors if you develop a command
for the commandline</p>
</li>
<li><p class="first">use <code class="docutils literal"><span class="pre">Console.ok</span></code> when printing something that confirms the action
is ok. In many cases you may not want o use print, but
Console.ok. Please note that Console.ok, takesa string argument.</p>
</li>
<li><p class="first">use <code class="docutils literal"><span class="pre">ConfigDict</span></code> when reading yaml files. It even allows you to
read a yaml file in order, make changes to it and write it back</p>
</li>
<li><p class="first">use nosetests and pytest for testing your programs</p>
<p>An example is provided in <code class="docutils literal"><span class="pre">tests/test_sample.py</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>nosetests -v --nocapture tests/test_sample.py
py.test  tests/test_sample.py
</pre></div>
</div>
<p>you can copy this to <code class="docutils literal"><span class="pre">tests/test_yourfile.py</span></code> and then replace in
that file the occurrence of <code class="docutils literal"><span class="pre">_sample</span></code> with <code class="docutils literal"><span class="pre">_yourfile</span></code></p>
<p>make sure to create meaningful tests.</p>
</li>
<li><p class="first">use RST to write documentation <a class="reference external" href="http://sphinx-doc.org/rest.html">http://sphinx-doc.org/rest.html</a></p>
</li>
<li><p class="first">do not include fancy self tests in the documentation, instead write
nosetests</p>
</li>
<li><p class="first">we are using <a class="reference external" href="https://pypi.python.org/pypi/gitchangelog">https://pypi.python.org/pypi/gitchangelog</a> for creating
changelogs automatically.  Thus you need to use a prefix in any
commit. It includes the type and the user for which the commit is
relevant.  Examples are:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>chg: usr:    simple changes relevant for users (spelling, ...)
fix: usr:    major changes for users
new: usr:    new feature for users

chg: dev:    simple changes relevant for developers (spelling, ...)
fix: dev:    major changes for developers
new: dev:    new feature for developers
</pre></div>
</div>
</li>
<li><p class="first">use as much python 3 like code but use python 2 for development to also make the
code portable on python 2</p>
</li>
<li><p class="first">look at <a class="reference external" href="http://python-future.org/compatible_idioms.html">http://python-future.org/compatible_idioms.html</a> for tips to
make python 2 look more like python 3.  Be careful with dicts to
make them not inefficient.</p>
</li>
<li><p class="first">iteritems:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">six</span>

<span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span> <span class="n">foo</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">bar</span><span class="o">=</span><span class="mi">2</span> <span class="p">)</span>

<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">iteritems</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="prioritizaton">
<h2>PRIORITIZATON<a class="headerlink" href="#prioritizaton" title="Permalink to this headline">¶</a></h2>
<p>Prioritizations of tasks can be established while using the first
line of an issue body. Here you can use a tag such as:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>P:1
</pre></div>
</div>
<p>Where the number behind p identifies the priority. As normal github
does not support priority tasks, They can be printed from cloudmesh
dev branch, if you use the command:</p>
<blockquote>
<div>bin/git-priority,py</div></blockquote>
<p>We will enhance the tools to print priority lists gradually as needed.</p>
<p>an output will look like:</p>
<blockquote>
<div><div class="line-block">
<div class="line">P    | N    | title                | assignee   | milestone  | labels               |</div>
<div class="line">&#8212;- | &#8212;- | &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211; | &#8212;&#8212;&#8212;- | &#8212;&#8212;&#8212;- | &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211; |</div>
<div class="line-block">
<div class="line-block">
<div class="line">1 |  202 | cm refresh on/off    | gouravs... | 2016/03/31 | bug, Gourav          |</div>
</div>
<div class="line">999 |  201 | cm cluster           | None       | priority   | Fugang, Gourav, G... |</div>
</div>
</div>
</div></blockquote>
<p>which easily renders in MD. If you are only interested in a particular milestone, you
can fgrep for it:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>bin/git-priority,py | fgrep priority
</pre></div>
</div>
<p>An example for sorting and selection is:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>bin/git-priority.py | sort -t &quot;|&quot; -k 1 | fgrep priority
</pre></div>
</div>
</div>
<div class="section" id="editor">
<h2>Editor<a class="headerlink" href="#editor" title="Permalink to this headline">¶</a></h2>
<p>Use PyCharam.</p>
<p>We made bad experience with people using editors other than emacs, vi, and PyCharm.
When working on Windows make sure your editor handles newlines properly with git.</p>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>Creating the documentation with sphinx is easy</p>
<pre class="highlight"><style type="text/css">
span.prompt1:before {
  content: "$ ";
}
</style><span class="prompt1">pip install -r requirements-doc.txt</span>
<span class="prompt1">make doc</span>
</pre><p>View the documentation</p>
<pre class="highlight"><span class="prompt1">make view</span>
</pre><div class="section" id="testing">
<h3>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h3>
<div class="section" id="tox">
<h4>Tox<a class="headerlink" href="#tox" title="Permalink to this headline">¶</a></h4>
<p>We assume that you checked out the newest version from cloudmesh client
and base from source and that they are located in:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>~/github/cloudmesh/base
~/github/cloudmesh/client
</pre></div>
</div>
<p>We assume you have tox installed</p>
<pre class="highlight"><span class="prompt1">pip install tox</span>
</pre><p>in the client directory you call tox</p>
<pre class="highlight"><span class="prompt1"><span class="nb">cd</span> ~/github/cloudmesh/client</span>
<span class="prompt1">tox</span>
</pre></div>
<div class="section" id="nosetests">
<h4>Nosetests<a class="headerlink" href="#nosetests" title="Permalink to this headline">¶</a></h4>
<p>Nose tests can be started with</p>
<pre class="highlight"><span class="prompt1">nosetests</span>
</pre><p>Individual nosetests can be started with (here an example frm test_list.py
is used):</p>
<pre class="highlight"><span class="prompt1">python setup.py install<span class="p">;</span> nosetests -v --nocapture  tests/test_list.py:Test_list.test_001</span>
</pre></div>
</div>
</div>
<div class="section" id="git">
<h2>Git<a class="headerlink" href="#git" title="Permalink to this headline">¶</a></h2>
<div class="section" id="closing-issues-via-commit-messages">
<h3>Closing Issues via Commit Messages<a class="headerlink" href="#closing-issues-via-commit-messages" title="Permalink to this headline">¶</a></h3>
<p>To close an issue on github issues, you can use it in your commit messages as follows</p>
<p>git commit -m &#8220;Fix problem xyz, fixes #12&#8221;</p>
</div>
<div class="section" id="ssh-keys">
<h3>SSH keys<a class="headerlink" href="#ssh-keys" title="Permalink to this headline">¶</a></h3>
<p>You can get a list of public ssh keys in plain text format by visiting:</p>
<p><a class="reference external" href="https://github.com">https://github.com</a>/{user}.keys</p>
</div>
<div class="section" id="sheetsheet">
<h3>Sheetsheet<a class="headerlink" href="#sheetsheet" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/tiimgreen/github-cheat-sheet">https://github.com/tiimgreen/github-cheat-sheet</a></li>
<li><a class="reference external" href="https://training.github.com/kit/downloads/github-git-cheat-sheet.pdf">https://training.github.com/kit/downloads/github-git-cheat-sheet.pdf</a></li>
<li><a class="reference external" href="http://byte.kde.org/~zrusin/git/git-cheat-sheet.svg">http://byte.kde.org/~zrusin/git/git-cheat-sheet.svg</a></li>
<li><a class="reference external" href="http://www.emoji-cheat-sheet.com">http://www.emoji-cheat-sheet.com</a></li>
</ul>
</div>
<div class="section" id="empty-commits">
<h3>Empty Commits<a class="headerlink" href="#empty-commits" title="Permalink to this headline">¶</a></h3>
<p>Commits can be pushed with no code changes by adding &#8211;allow-empty:</p>
<pre class="highlight"><span class="prompt1">git commit -m <span class="s2">&quot;Big-ass commit&quot;</span> --allow-empty</span>
</pre></div>
<div class="section" id="styled-git-log">
<h3>Styled Git Log<a class="headerlink" href="#styled-git-log" title="Permalink to this headline">¶</a></h3>
<pre class="highlight"><span class="prompt1">git log --all --graph --pretty<span class="o">=</span>format:<span class="s1">&#39;%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#39;</span> --abbrev-commit --date<span class="o">=</span>relative</span>
</pre></div>
<div class="section" id="tags">
<h3>Tags<a class="headerlink" href="#tags" title="Permalink to this headline">¶</a></h3>
<p>Tags are only created by Gregor von Laszewski.</p>
<p>Create a tag. Always use x.y.z</p>
<pre class="highlight"><span class="prompt1">make tag</span>
</pre><p>Remove a tag</p>
<pre class="highlight"><span class="prompt1">make rmtag</span>
</pre></div>
<div class="section" id="publish-on-github">
<h3>Publish on Github<a class="headerlink" href="#publish-on-github" title="Permalink to this headline">¶</a></h3>
<p>The documentation is only pushed by  Gregor von
Laszewski.</p>
<pre class="highlight"><span class="prompt1">make publish</span>
</pre></div>
<div class="section" id="logging">
<h3>Logging<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">cloudmesh_client.common.LogUtil</span> <span class="kn">import</span> <span class="n">LogUtil</span>

<span class="n">log</span> <span class="o">=</span> <span class="n">LogUtil</span><span class="o">.</span><span class="n">get_logger</span><span class="p">()</span>
<span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Cloud: &quot;</span> <span class="o">+</span> <span class="n">cloud</span> <span class="o">+</span> <span class="s2">&quot;, Arguments: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">arguments</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="appendix.html" class="btn btn-neutral float-right" title="Appendix" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="api.html" class="btn btn-neutral" title="API" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Gregor von Laszewski.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'3.1.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>